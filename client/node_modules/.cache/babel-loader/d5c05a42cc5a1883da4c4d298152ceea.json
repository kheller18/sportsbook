{"ast":null,"code":"import _toConsumableArray from \"/Users/keenanheller/Desktop/bootcamp-homeworks/sportsbook/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"/Users/keenanheller/Desktop/bootcamp-homeworks/sportsbook/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/keenanheller/Desktop/bootcamp-homeworks/sportsbook/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/keenanheller/Desktop/bootcamp-homeworks/sportsbook/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/keenanheller/Desktop/bootcamp-homeworks/sportsbook/client/src/components/ActiveGames.js\";\n\nimport React, { useEffect, useState, useContext } from 'react';\nimport API from '../utils/API';\nimport ActiveLines from './ActiveLines';\nimport { SportsContext } from './ActiveSports';\nexport var GamesContext = React.createContext();\n\nvar ActiveGames = function ActiveGames() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      games = _useState2[0],\n      setGames = _useState2[1];\n\n  var sports = useContext(SportsContext);\n  useEffect(function () {\n    function getMoneyLine() {\n      return _getMoneyLine.apply(this, arguments);\n    }\n\n    function _getMoneyLine() {\n      _getMoneyLine = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return API.getLines(sports[1], 'moneyline').then(function (res) {\n                  // console.log(res.data.data)\n                  // console.log(res.data.data[0].sites[6].odds.h2h[0]);\n                  // setGames(res.data.data);\n                  // setGames([\n                  //   ...games,\n                  //   games: {\n                  //     ...games,\n                  //     moneyline: res.data.data\n                  //   },\n                  // moneyline: res.data.data\n                  // ]);\n                  setGames([{\n                    moneyline: res.data.data\n                  }]);\n                }).catch(function (err) {\n                  console.log(err);\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _getMoneyLine.apply(this, arguments);\n    }\n\n    ;\n\n    function getSpreadLine() {\n      return _getSpreadLine.apply(this, arguments);\n    }\n\n    function _getSpreadLine() {\n      _getSpreadLine = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return API.getLines(sports[1], 'spread').then(function (res) {\n                  // console.log(res.data.data)\n                  // console.log(res.data.data[0].sites[6].odds.h2h[0]);\n                  // setGames(res.data.data);\n                  // setGames({\n                  //   ...games,\n                  //   games: {\n                  //     ...games,\n                  //     spread: res.data.data\n                  //   },\n                  // });\n                  setGames(function (prevGames) {\n                    return [].concat(_toConsumableArray(prevGames), [{\n                      spread: res.data.data\n                    }]);\n                  });\n                  console.log(games);\n                }).catch(function (err) {\n                  console.log(err);\n                });\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n      return _getSpreadLine.apply(this, arguments);\n    }\n\n    ;\n    getMoneyLine();\n    getSpreadLine();\n  }, [sports]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(GamesContext.Provider, {\n    value: {\n      games: games\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ActiveLines, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default ActiveGames;","map":{"version":3,"sources":["/Users/keenanheller/Desktop/bootcamp-homeworks/sportsbook/client/src/components/ActiveGames.js"],"names":["React","useEffect","useState","useContext","API","ActiveLines","SportsContext","GamesContext","createContext","ActiveGames","games","setGames","sports","getMoneyLine","getLines","then","res","moneyline","data","catch","err","console","log","getSpreadLine","prevGames","spread"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,aAAT,QAA8B,gBAA9B;AACA,OAAO,IAAMC,YAAY,GAAGP,KAAK,CAACQ,aAAN,EAArB;;AAEP,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AAAA,kBACEP,QAAQ,CAAC,EAAD,CADV;AAAA;AAAA,MACjBQ,KADiB;AAAA,MACVC,QADU;;AAExB,MAAMC,MAAM,GAAGT,UAAU,CAACG,aAAD,CAAzB;AAEAL,EAAAA,SAAS,CAAC,YAAM;AAAA,aACCY,YADD;AAAA;AAAA;;AAAA;AAAA,+EACd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACQT,GAAG,CAACU,QAAJ,CAAaF,MAAM,CAAC,CAAD,CAAnB,EAAwB,WAAxB,EACHG,IADG,CACE,UAAAC,GAAG,EAAI;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE;AACF;AACAL,kBAAAA,QAAQ,CAAC,CACP;AACEM,oBAAAA,SAAS,EAAED,GAAG,CAACE,IAAJ,CAASA;AADtB,mBADO,CAAD,CAAR;AAKD,iBAlBG,EAmBHC,KAnBG,CAmBG,UAAAC,GAAG,EAAI;AACZC,kBAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,iBArBG,CADR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADc;AAAA;AAAA;;AAwBb;;AAxBa,aA0BCG,aA1BD;AAAA;AAAA;;AAAA;AAAA,gFA0Bd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACQnB,GAAG,CAACU,QAAJ,CAAaF,MAAM,CAAC,CAAD,CAAnB,EAAwB,QAAxB,EACHG,IADG,CACE,UAAAC,GAAG,EAAI;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAL,kBAAAA,QAAQ,CAAC,UAAAa,SAAS;AAAA,wDACbA,SADa,IAEhB;AACEC,sBAAAA,MAAM,EAAET,GAAG,CAACE,IAAJ,CAASA;AADnB,qBAFgB;AAAA,mBAAV,CAAR;AAMAG,kBAAAA,OAAO,CAACC,GAAR,CAAYZ,KAAZ;AACD,iBAnBG,EAoBHS,KApBG,CAoBG,UAAAC,GAAG,EAAI;AACZC,kBAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,iBAtBG,CADR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OA1Bc;AAAA;AAAA;;AAkDb;AAEDP,IAAAA,YAAY;AACZU,IAAAA,aAAa;AACd,GAtDQ,EAsDN,CAACX,MAAD,CAtDM,CAAT;AAwDA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE,oBAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAE;AAACF,MAAAA,KAAK,EAALA;AAAD,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,CADF;AAQD,CApED;;AAsEA,eAAeD,WAAf","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport API from '../utils/API';\nimport ActiveLines from './ActiveLines';\nimport { SportsContext } from './ActiveSports';\nexport const GamesContext = React.createContext();\n\nconst ActiveGames = () => {\n  const [games, setGames] = useState([]);\n  const sports = useContext(SportsContext);\n\n  useEffect(() => {\n    async function getMoneyLine() {\n      await API.getLines(sports[1], 'moneyline')\n        .then(res => {\n          // console.log(res.data.data)\n          // console.log(res.data.data[0].sites[6].odds.h2h[0]);\n          // setGames(res.data.data);\n          // setGames([\n          //   ...games,\n          //   games: {\n          //     ...games,\n          //     moneyline: res.data.data\n          //   },\n            // moneyline: res.data.data\n          // ]);\n          setGames([\n            {\n              moneyline: res.data.data\n            }\n          ]);\n        })\n        .catch(err => {\n          console.log(err)\n        });\n    };\n\n    async function getSpreadLine() {\n      await API.getLines(sports[1], 'spread')\n        .then(res => {\n          // console.log(res.data.data)\n          // console.log(res.data.data[0].sites[6].odds.h2h[0]);\n          // setGames(res.data.data);\n          // setGames({\n          //   ...games,\n          //   games: {\n          //     ...games,\n          //     spread: res.data.data\n          //   },\n          // });\n          setGames(prevGames => [\n            ...prevGames, \n            {\n              spread: res.data.data\n            }\n          ])\n          console.log(games);\n        })\n        .catch(err => {\n          console.log(err)\n        });\n    };\n\n    getMoneyLine();\n    getSpreadLine();\n  }, [sports]);\n\n  return (\n    <div>\n      {/* {games.map(game => <div key={game.home_team}>{game.teams[0]} vs. {game.teams[1]}</div>)} */}\n      <GamesContext.Provider value={{games}}>\n        <ActiveLines />\n      </GamesContext.Provider>\n    </div>\n  );\n};\n\nexport default ActiveGames;\n"]},"metadata":{},"sourceType":"module"}