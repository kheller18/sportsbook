{"ast":null,"code":"import axios from 'axios';\nexport default {\n  //call to get active sports to call for \"getLines\"\n  getSports: function getSports() {\n    return axios.get(\"https://api.the-odds-api.com/v3/sports?apiKey=\".concat(process.env.REACT_APP_API_KEY)).then(function (res) {\n      console.log(res);\n\n      if (res.status === 200) {\n        console.log('inside');\n        return res.data.data;\n      }\n\n      return res;\n    });\n  },\n  // call to get different api lines depending on sports and linetype\n  getLines: function getLines(sport, lineType) {\n    switch (lineType) {\n      case 'moneyline':\n        return axios.get(\"https://api.the-odds-api.com/v3/odds?&apiKey=\".concat(process.env.REACT_APP_API_KEY, \"&sport=\").concat(sport, \"&region=us&mkt=h2h&oddsFormat=american\"));\n\n      case 'spread':\n        return axios.get(\"https://api.the-odds-api.com/v3/odds?&apiKey=\".concat(process.env.REACT_APP_API_KEY, \"&sport=\").concat(sport, \"&region=us&mkt=spreads&oddsFormat=american\"));\n\n      case 'totals':\n        return axios.get(\"https://api.the-odds-api.com/v3/odds?&apiKey=\".concat(process.env.REACT_APP_API_KEY, \"&sport=\").concat(sport, \"&region=us&mkt=totals&oddsFormat=american\"));\n\n      default:\n        return axios.get(\"https://api.the-odds-api.com/v3/odds?&apiKey=\".concat(process.env.REACT_APP_API_KEY, \"&sport=\").concat(sport, \"&region=us&mkt=h2h&oddsFormat=american\"));\n    }\n  },\n  // submits a bet\n  submitBetSlip: function submitBetSlip(betInfo) {\n    console.log(betInfo);\n\n    if (betInfo.length === 1) {\n      return axios.post('/api/bet', {\n        betInfo\n      });\n    } else {\n      return axios.post('/api/bet/bulk', {\n        betInfo\n      });\n    }\n  },\n  // gets bets per user\n  getBets: function getBets(userId) {\n    return axios.get('/api/bet', {\n      userId\n    });\n  },\n  // post for a new user\n  signup: function signup(userData) {\n    return axios.post('/signup', userData);\n  },\n  // posts for logging in\n  login: function login(username, password) {\n    return axios.post('/login', {\n      username,\n      password\n    }).then(function (response) {\n      if (response.data.token) {\n        localStorage.setItem('user', JSON.stringify(response.data.user));\n      }\n\n      return response;\n    }).catch(function (err) {\n      console.log(err);\n    });\n  },\n  // checks if user is logged in\n  isLoggedIn: function isLoggedIn() {\n    if (localStorage.getItem('user') === null) {\n      return false;\n    }\n\n    return true;\n  },\n  // logs user out\n  logout: function logout() {\n    localStorage.removeItem('user');\n  }\n};","map":{"version":3,"sources":["/Users/keenanheller/Desktop/bootcamp-homeworks/sportsbook/client/src/utils/API.js"],"names":["axios","getSports","get","process","env","REACT_APP_API_KEY","then","res","console","log","status","data","getLines","sport","lineType","submitBetSlip","betInfo","length","post","getBets","userId","signup","userData","login","username","password","response","token","localStorage","setItem","JSON","stringify","user","catch","err","isLoggedIn","getItem","logout","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACb;AACAC,EAAAA,SAAS,EAAE,qBAAM;AACf,WAAOD,KAAK,CAACE,GAAN,yDAA4DC,OAAO,CAACC,GAAR,CAAYC,iBAAxE,GACJC,IADI,CACC,UAAAC,GAAG,EAAI;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,UAAIA,GAAG,CAACG,MAAJ,KAAe,GAAnB,EAAwB;AACtBF,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,eAAOF,GAAG,CAACI,IAAJ,CAASA,IAAhB;AACD;;AACD,aAAOJ,GAAP;AACD,KARI,CAAP;AASD,GAZY;AAcb;AACAK,EAAAA,QAAQ,EAAE,kBAACC,KAAD,EAAQC,QAAR,EAAqB;AAC7B,YAAOA,QAAP;AACE,WAAK,WAAL;AACE,eAAOd,KAAK,CAACE,GAAN,wDAA2DC,OAAO,CAACC,GAAR,CAAYC,iBAAvE,oBAAoGQ,KAApG,4CAAP;;AACF,WAAK,QAAL;AACE,eAAOb,KAAK,CAACE,GAAN,wDAA2DC,OAAO,CAACC,GAAR,CAAYC,iBAAvE,oBAAoGQ,KAApG,gDAAP;;AACF,WAAK,QAAL;AACE,eAAOb,KAAK,CAACE,GAAN,wDAA2DC,OAAO,CAACC,GAAR,CAAYC,iBAAvE,oBAAoGQ,KAApG,+CAAP;;AACF;AACE,eAAOb,KAAK,CAACE,GAAN,wDAA2DC,OAAO,CAACC,GAAR,CAAYC,iBAAvE,oBAAoGQ,KAApG,4CAAP;AARJ;AAUD,GA1BY;AA4Bb;AACAE,EAAAA,aAAa,EAAE,uBAACC,OAAD,EAAa;AAC1BR,IAAAA,OAAO,CAACC,GAAR,CAAYO,OAAZ;;AACA,QAAIA,OAAO,CAACC,MAAR,KAAmB,CAAvB,EAA0B;AACxB,aAAOjB,KAAK,CAACkB,IAAN,CAAW,UAAX,EAAuB;AAC5BF,QAAAA;AAD4B,OAAvB,CAAP;AAGD,KAJD,MAIO;AACL,aAAOhB,KAAK,CAACkB,IAAN,CAAW,eAAX,EAA4B;AACjCF,QAAAA;AADiC,OAA5B,CAAP;AAGD;AACF,GAxCY;AA0Cb;AACAG,EAAAA,OAAO,EAAE,iBAACC,MAAD,EAAY;AACnB,WAAOpB,KAAK,CAACE,GAAN,CAAU,UAAV,EAAsB;AAC3BkB,MAAAA;AAD2B,KAAtB,CAAP;AAGD,GA/CY;AAiDb;AACAC,EAAAA,MAAM,EAAE,gBAACC,QAAD,EAAc;AACpB,WAAOtB,KAAK,CAACkB,IAAN,CAAW,SAAX,EAAsBI,QAAtB,CAAP;AACD,GApDY;AAsDb;AACAC,EAAAA,KAAK,EAAE,eAACC,QAAD,EAAWC,QAAX,EAAwB;AAC7B,WAAOzB,KAAK,CAACkB,IAAN,CAAW,QAAX,EAAqB;AAC1BM,MAAAA,QAD0B;AAE1BC,MAAAA;AAF0B,KAArB,EAIJnB,IAJI,CAIC,UAACoB,QAAD,EAAc;AAClB,UAAIA,QAAQ,CAACf,IAAT,CAAcgB,KAAlB,EAAyB;AACvBC,QAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeL,QAAQ,CAACf,IAAT,CAAcqB,IAA7B,CAA7B;AACD;;AACD,aAAON,QAAP;AACD,KATI,EAUJO,KAVI,CAUE,UAAAC,GAAG,EAAI;AACZ1B,MAAAA,OAAO,CAACC,GAAR,CAAYyB,GAAZ;AACD,KAZI,CAAP;AAaD,GArEY;AAuEb;AACAC,EAAAA,UAAU,EAAE,sBAAM;AAChB,QAAIP,YAAY,CAACQ,OAAb,CAAqB,MAArB,MAAiC,IAArC,EAA2C;AACzC,aAAO,KAAP;AACD;;AACD,WAAO,IAAP;AACD,GA7EY;AA+Eb;AACAC,EAAAA,MAAM,EAAE,kBAAM;AACZT,IAAAA,YAAY,CAACU,UAAb,CAAwB,MAAxB;AACD;AAlFY,CAAf","sourcesContent":["import axios from 'axios';\n\nexport default {\n  //call to get active sports to call for \"getLines\"\n  getSports: () => {\n    return axios.get(`https://api.the-odds-api.com/v3/sports?apiKey=${ process.env.REACT_APP_API_KEY }`)\n      .then(res => {\n        console.log(res)\n        if (res.status === 200) {\n          console.log('inside')\n          return res.data.data;\n        }\n        return res;\n      })\n  },\n\n  // call to get different api lines depending on sports and linetype\n  getLines: (sport, lineType) => {\n    switch(lineType) {\n      case 'moneyline':\n        return axios.get(`https://api.the-odds-api.com/v3/odds?&apiKey=${ process.env.REACT_APP_API_KEY }&sport=${ sport }&region=us&mkt=h2h&oddsFormat=american`);\n      case 'spread':\n        return axios.get(`https://api.the-odds-api.com/v3/odds?&apiKey=${ process.env.REACT_APP_API_KEY }&sport=${ sport }&region=us&mkt=spreads&oddsFormat=american`);\n      case 'totals':\n        return axios.get(`https://api.the-odds-api.com/v3/odds?&apiKey=${ process.env.REACT_APP_API_KEY }&sport=${ sport }&region=us&mkt=totals&oddsFormat=american`);\n      default:\n        return axios.get(`https://api.the-odds-api.com/v3/odds?&apiKey=${ process.env.REACT_APP_API_KEY }&sport=${ sport }&region=us&mkt=h2h&oddsFormat=american`);\n      }\n  },\n\n  // submits a bet\n  submitBetSlip: (betInfo) => {\n    console.log(betInfo);\n    if (betInfo.length === 1) {\n      return axios.post('/api/bet', {\n        betInfo\n      });  \n    } else {\n      return axios.post('/api/bet/bulk', {\n        betInfo\n      });\n    }\n  },\n\n  // gets bets per user\n  getBets: (userId) => {\n    return axios.get('/api/bet', {\n      userId\n    });\n  },\n\n  // post for a new user\n  signup: (userData) => {\n    return axios.post('/signup', userData);\n  },\n\n  // posts for logging in\n  login: (username, password) => {\n    return axios.post('/login', {\n      username,\n      password\n    })\n      .then((response) => {\n        if (response.data.token) {\n          localStorage.setItem('user', JSON.stringify(response.data.user));\n        }\n        return response;\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  },\n\n  // checks if user is logged in\n  isLoggedIn: () => {\n    if (localStorage.getItem('user') === null) {\n      return false;\n    }\n    return true;\n  },\n\n  // logs user out\n  logout: () => {\n    localStorage.removeItem('user');\n  }\n};\n"]},"metadata":{},"sourceType":"module"}