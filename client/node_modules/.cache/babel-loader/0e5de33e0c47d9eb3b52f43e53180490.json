{"ast":null,"code":"import _regeneratorRuntime from \"/Users/keenanheller/Desktop/bootcamp-homeworks/sportsbook/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/keenanheller/Desktop/bootcamp-homeworks/sportsbook/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/keenanheller/Desktop/bootcamp-homeworks/sportsbook/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/keenanheller/Desktop/bootcamp-homeworks/sportsbook/client/src/components/BetSlip.js\";\n\nimport React, { useEffect, useState } from 'react';\nimport '../styles/BetSlip.css';\nimport API from '../utils/API';\n\nvar BetSlip = function BetSlip(e) {\n  // const betInformation = useContext(RenderLinesContext);\n  var inital = false;\n\n  var _useState = useState(undefined),\n      _useState2 = _slicedToArray(_useState, 2),\n      toLose = _useState2[0],\n      setToLose = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      toWin = _useState4[0],\n      setToWin = _useState4[1];\n\n  var _useState5 = useState({\n    data: {}\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      slipData = _useState6[0],\n      setSlipData = _useState6[1]; // if (!e) {\n  //   const [toWin, setToWin] = useState('');\n  // } else {\n  //   const [toWin, setToWin] = useState(toLose * e.data.slipData.odds);\n  // }\n  // const [slip, setSlip] = useState({});\n\n\n  console.log(e);\n  useEffect(function () {// if (initial) {\n    //   setToWin(toLose * e.data.slipData.odds)\n    //   inital = true;\n    // }\n    // dependency delted 'toLose'\n  }, [e]);\n\n  var handleChange = function handleChange(e, data) {\n    console.log(data);\n    console.log(e);\n    console.log(data.odds.toString()[0]);\n\n    switch (data.odds.toString()[0]) {\n      case '-':\n        // let totalCalc = Math.abs((e * data.odds * .01) + e);\n        var tempCalc = Math.abs(e * data.odds * .01);\n        var finalCalc = tempCalc - e;\n        console.log(tempCalc);\n        console.log(finalCalc);\n        setToLose(e);\n        setToWin((e - finalCalc).toFixed(2));\n        break;\n\n      default:\n        setToLose(e);\n        setToWin((e * data.odds * .01).toFixed(2));\n        break;\n    }\n\n    ;\n  };\n\n  var handleSubmit = function handleSubmit(event) {\n    event.preventDefault();\n    event.persist();\n    var userData = JSON.parse(localStorage.getItem('user'));\n    console.log(userData);\n    var userId = userData._id;\n    console.log(userId);\n    var gameKey = e.data.data.key;\n    var betType = e.data.slipData.type;\n    var team = e.data.slipData.team;\n    var odds = e.data.slipData.odds;\n    var outcome = null;\n    var payout = null;\n    var line = null;\n    var status = 'LIVE';\n    setSlipData({\n      data: {\n        toLose: toLose,\n        toWin: toWin\n      }\n    });\n    console.log(e);\n\n    var slipData = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.t0 = betType;\n                _context.next = _context.t0 === 'MONEYLINE' ? 3 : _context.t0 === 'SPREAD' ? 6 : _context.t0 === 'TOTALS-OVER' ? 10 : _context.t0 === 'TOTALS-UNDER' ? 14 : 18;\n                break;\n\n              case 3:\n                _context.next = 5;\n                return API.submitBetSlip({\n                  userId: userId,\n                  gameKey: gameKey,\n                  betType: betType,\n                  team: team,\n                  line: line,\n                  odds: odds,\n                  toLose: toLose,\n                  toWin: toWin,\n                  status: status,\n                  outcome: outcome,\n                  payout: payout\n                }).then(function (response) {\n                  console.log(response);\n                }).catch(function (err) {\n                  console.log(err);\n                });\n\n              case 5:\n                return _context.abrupt(\"break\", 20);\n\n              case 6:\n                line = e.data.slipData.line;\n                _context.next = 9;\n                return API.submitBetSlip({\n                  userId: userId,\n                  gameKey: gameKey,\n                  betType: betType,\n                  team: team,\n                  line: line,\n                  odds: odds,\n                  toLose: toLose,\n                  toWin: toWin,\n                  status: status,\n                  outcome: outcome,\n                  payout: payout\n                }).then(function (response) {\n                  console.log(response);\n                }).catch(function (err) {\n                  console.log(err);\n                });\n\n              case 9:\n                return _context.abrupt(\"break\", 20);\n\n              case 10:\n                line = e.data.slipData.line;\n                _context.next = 13;\n                return API.submitBetSlip({\n                  userId: userId,\n                  gameKey: gameKey,\n                  betType: betType,\n                  team: team,\n                  line: line,\n                  odds: odds,\n                  toLose: toLose,\n                  toWin: toWin,\n                  status: status,\n                  outcome: outcome,\n                  payout: payout\n                }).then(function (response) {\n                  console.log(response);\n                }).catch(function (err) {\n                  console.log(err);\n                });\n\n              case 13:\n                return _context.abrupt(\"break\", 20);\n\n              case 14:\n                line = e.data.slipData.line;\n                _context.next = 17;\n                return API.submitBetSlip({\n                  userId: userId,\n                  gameKey: gameKey,\n                  betType: betType,\n                  team: team,\n                  line: line,\n                  odds: odds,\n                  toLose: toLose,\n                  toWin: toWin,\n                  status: status,\n                  outcome: outcome,\n                  payout: payout\n                }).then(function (response) {\n                  console.log(response);\n                }).catch(function (err) {\n                  console.log(err);\n                });\n\n              case 17:\n                return _context.abrupt(\"break\", 20);\n\n              case 18:\n                console.log('none selected');\n                return _context.abrupt(\"break\", 20);\n\n              case 20:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function slipData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    slipData();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"slip\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"slip-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, \"BET SLIP\"), e.data.isLoading ? '' : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"slip-body\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"slip-exit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, \"X\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"slip-away-team\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, e.data.data.awayTeam), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"slip-home-team\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }, \"vs. \", e.data.data.homeTeam), e.data.slipData.type === 'MONEYLINE' ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"slip-bet-info\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, \"MONEYLINE: \", e.data.slipData.team, \" (\", e.data.slipData.odds, \")\") : '', e.data.slipData.type === 'SPREAD' ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"slip-bet-info\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, \"SPREAD: \", e.data.slipData.team, \" \", e.data.slipData.line, \" (\", e.data.slipData.odds, \")\") : '', e.data.slipData.type === 'TOTALS-UNDER' ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"slip-bet-info\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, \"TOTAL: \", e.data.slipData.team, \" U/\", e.data.slipData.line, \" (\", e.data.slipData.odds, \")\") : '', e.data.slipData.type === 'TOTALS-OVER' ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"slip-bet-info\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }, \"TOTAl: \", e.data.slipData.team, \" O/\", e.data.slipData.line, \" (\", e.data.slipData.odds, \")\") : '', /*#__PURE__*/React.createElement(\"div\", {\n    className: \"slip-money\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"slip-risk-money\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 15\n    }\n  }, \"TO RISK\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"slip-to-lose\",\n    value: toLose,\n    placeholder: toLose,\n    onChange: function onChange(event) {\n      return handleChange(event.target.value, e.data.slipData);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"slip-win-money\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 15\n    }\n  }, \"TO WIN\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"slip-to-win\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  }, toWin))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"slip-buttons\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"slip-button\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }, \"CANCEL\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick(event) {\n      return handleSubmit(event);\n    },\n    className: \"slip-button\",\n    id: \"submit-slip\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, \"PLACE BET\"))));\n};\n\nexport default BetSlip;","map":{"version":3,"sources":["/Users/keenanheller/Desktop/bootcamp-homeworks/sportsbook/client/src/components/BetSlip.js"],"names":["React","useEffect","useState","API","BetSlip","e","inital","undefined","toLose","setToLose","toWin","setToWin","data","slipData","setSlipData","console","log","handleChange","odds","toString","tempCalc","Math","abs","finalCalc","toFixed","handleSubmit","event","preventDefault","persist","userData","JSON","parse","localStorage","getItem","userId","_id","gameKey","key","betType","type","team","outcome","payout","line","status","submitBetSlip","then","response","catch","err","isLoading","awayTeam","homeTeam","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport '../styles/BetSlip.css';\nimport API from '../utils/API';\n\nconst BetSlip = (e) => {\n  // const betInformation = useContext(RenderLinesContext);\n  const inital = false;\n  \n  const [toLose, setToLose] = useState(undefined);\n  const [toWin, setToWin] = useState();\n  const [slipData, setSlipData] = useState({data: {}})\n\n  // if (!e) {\n  //   const [toWin, setToWin] = useState('');\n  // } else {\n  //   const [toWin, setToWin] = useState(toLose * e.data.slipData.odds);\n  // }\n  // const [slip, setSlip] = useState({});\n  console.log(e);\n  useEffect(() => {\n    // if (initial) {\n    //   setToWin(toLose * e.data.slipData.odds)\n    //   inital = true;\n    // }\n    // dependency delted 'toLose'\n  }, [e]);\n\n  const handleChange = (e, data) => {\n    console.log(data);\n    console.log(e);\n    console.log(data.odds.toString()[0]);\n    switch (data.odds.toString()[0]) {\n      case '-':\n        \n        // let totalCalc = Math.abs((e * data.odds * .01) + e);\n        let tempCalc = Math.abs(e * data.odds * .01);\n        let finalCalc = tempCalc - e;\n        console.log(tempCalc);\n        console.log(finalCalc);\n        setToLose(e)\n        setToWin((e - finalCalc).toFixed(2));\n        break;\n      default:\n        setToLose(e);\n        setToWin((e * data.odds * .01).toFixed(2));\n        break;\n    };\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    event.persist();\n    const userData = JSON.parse(localStorage.getItem('user'));\n    console.log(userData);\n    const userId = userData._id;\n    console.log(userId);\n    const gameKey = e.data.data.key;\n    const betType = e.data.slipData.type;\n    const team = e.data.slipData.team;\n    const odds = e.data.slipData.odds;\n    const outcome = null;\n    const payout = null;\n    let line = null;\n    const status = 'LIVE';\n    setSlipData({data: {toLose: toLose, toWin: toWin}});\n    console.log(e);\n\n    const slipData = async () => {\n      switch (betType) {\n        case 'MONEYLINE':\n          await API.submitBetSlip({userId, gameKey, betType, team, line, odds, toLose, toWin, status, outcome, payout})\n            .then((response) => {\n              console.log(response);\n            })\n            .catch(err => {\n              console.log(err);\n            });\n          break;\n        case 'SPREAD':\n          line = e.data.slipData.line;\n          await API.submitBetSlip({userId, gameKey, betType, team, line, odds, toLose, toWin, status, outcome, payout})\n            .then((response) => {\n              console.log(response);\n            })\n            .catch(err => {\n              console.log(err);\n            });\n          break;\n        case 'TOTALS-OVER':\n          line = e.data.slipData.line;\n          await API.submitBetSlip({userId, gameKey, betType, team, line, odds, toLose, toWin, status, outcome, payout})\n            .then((response) => {\n              console.log(response);\n            })\n            .catch(err => {\n              console.log(err);\n            });\n          break;\n        case 'TOTALS-UNDER':\n          line = e.data.slipData.line;\n          await API.submitBetSlip({userId, gameKey, betType, team, line, odds, toLose, toWin, status, outcome, payout})\n            .then((response) => {\n              console.log(response);\n            })\n            .catch(err => {\n              console.log(err);\n            });\n          break;\n        default:\n          console.log('none selected');\n          break;\n      }\n    };\n\n    slipData();\n  };\n\n  return (\n    <div className='slip'>\n      <div className='slip-title'>BET SLIP</div>\n      {e.data.isLoading ? '' : \n        <div className='slip-body'>\n          <div className='slip-exit'>X</div>\n          <div className='slip-away-team'>{e.data.data.awayTeam}</div>\n          <div className='slip-home-team'>vs. {e.data.data.homeTeam}</div>\n          {e.data.slipData.type === 'MONEYLINE' ?  \n            <div className='slip-bet-info'>MONEYLINE: {e.data.slipData.team} ({e.data.slipData.odds})</div> :\n          ''\n          }\n          {e.data.slipData.type === 'SPREAD' ?  \n            <div className='slip-bet-info'>SPREAD: {e.data.slipData.team} {e.data.slipData.line} ({e.data.slipData.odds})</div> :\n          ''\n          }\n          {e.data.slipData.type === 'TOTALS-UNDER' ?  \n            <div className='slip-bet-info'>TOTAL: {e.data.slipData.team} U/{e.data.slipData.line} ({e.data.slipData.odds})</div> :\n          ''\n          }\n          {e.data.slipData.type === 'TOTALS-OVER' ?  \n            <div className='slip-bet-info'>TOTAl: {e.data.slipData.team} O/{e.data.slipData.line} ({e.data.slipData.odds})</div> :\n          ''\n          }\n          <div className='slip-money'>\n            <div className='slip-risk-money'>\n              <label>TO RISK</label>\n              <br />\n              <br />\n              <input type='text' className='slip-to-lose' value={toLose} placeholder={toLose} onChange={(event) => handleChange(event.target.value, e.data.slipData)} /> \n            </div>\n            <div className='slip-win-money'>\n              <label>TO WIN</label>\n              <br />\n              <br />\n              <div className='slip-to-win'>{toWin}</div>\n            </div>\n          </div>\n          <div className='slip-buttons'>\n            <button className='slip-button'>CANCEL</button>\n            <button onClick={(event) => handleSubmit(event)} className='slip-button' id='submit-slip'>PLACE BET</button>\n          </div>\n      </div>\n      }      \n    </div>\n  );\n};\n\nexport default BetSlip;\n"]},"metadata":{},"sourceType":"module"}